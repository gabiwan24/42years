<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>3D Zeitleiste (optimiert, externe Logos)</title>
<!-- Tailwind CSS (UI-Overlay) -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- Google Font -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet" />
<style>
:root {
--bg: #000;
--fg: #fff;
--muted: #888;
}
html, body { height: 100%; }
body { margin: 0; overflow: hidden; background-color: var(--bg); font-family: 'Inter', sans-serif; }
/* Canvas bewusst nach hinten legen */
#timeline-canvas {
position: fixed;
inset: 0;
z-index: 0; /* unter den Overlays */
display: block;
background-color: var(--bg);
}
/* Overlays auf sichere Ebene */
#ui-overlay, #version-info {
position: fixed;
z-index: 50; /* sicher 端ber dem Canvas */
}
</style>
<script>
tailwind.config = {
theme: {
extend: {
colors: { 'primary': '#FFFFFF', 'secondary': '#888888' }
}
}
}
</script>
</head>
<body>
<!-- UI-Overlay f端r die aktuelle Jahresanzeige -->
<div id="ui-overlay" class="top-4 left-1/2 -translate-x-1/2 p-4 bg-black/70 rounded-xl shadow-2xl border border-white/30 z-50">
<h1 class="text-xl font-bold text-white">Aktuelles Jahr: <span id="current-year" class="text-3xl">2025</span></h1>
<p class="text-xs text-gray-400 mt-1 text-center">Scrollen (Mausrad), Farbe (Leertaste), Raster (Enter)</p>
</div>


<!-- Versions- und Zeitstempel-Anzeige -->
<div id="version-info" class="top-4 right-4 text-right text-xs text-white/50 z-50"></div>


<canvas id="timeline-canvas"></canvas>


<script>
// --- Globale Variablen f端r Canvas ---
const canvas = document.getElementById('timeline-canvas');
const ctx = canvas.getContext('2d');
const VERSION = '1.4.0'; // neue Versionsnummer
const BUILD_TIMESTAMP = '08.10.2025, 16:10'; // Beispiel-Zeitstempel


// --- Zeit- und Skalenkonstanten ---
const MIN_YEAR = 1984;
const VISUAL_MAX_YEAR = new Date().getFullYear();
const Z_DISTANCE = 4000;
const Z_SCALE = Z_DISTANCE / (VISUAL_MAX_YEAR - MIN_YEAR);


// --- Hilfsfunktionen f端r Zeit/Position ---
function yearToZ(year) {
const clampedYear = Math.max(MIN_YEAR, year);
return (VISUAL_MAX_YEAR - clampedYear) * Z_SCALE;
}
function zToYear(z) {
const year = VISUAL_MAX_YEAR - (z / Z_SCALE);
return Math.max(MIN_YEAR, year);
}


// --- Kamera & Projektion ---
const CAMERA_OFFSET = 300; // Abstand der Kamera zu den Endpunkten
const START_Z = yearToZ(VISUAL_MAX_YEAR) - CAMERA_OFFSET;
const END_Z = yearToZ(MIN_YEAR) - CAMERA_OFFSET;
const camera = { x: 0, y: 0, z: START_Z };
let targetZ = START_Z;
let focalLength;


// --- Statusvariablen ---
let isColorMode = false;
let mousePos = { x: 0, y: 0 };
let hoveredLogo = null;
let viewMode = 'tunnel';
let transitionProgress = 0;
let isTransitioning = false;


// --- Responsiveness & Geometrie-Dimensionen ---
let sideLimit = 100;
let wallHeight = 100;
const WALL_DISTANCE = 50;


// --- Easing Konstanten ---
const SCROLL_SENSITIVITY = 1.0;
const EASE_FACTOR = 0.08;
const TRANSITION_SPEED = 0.05;


// --- Sichtbarkeitskonstanten ---
const VISIBLE_RANGE_YEARS = 7;
const FADE_RANGE_YEARS = 4;

